<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Capítulo 5 Repetição | Python - Guia do Programador</title>
  <meta name="description" content="Este é um livro experimental, criado com uso do pacote bookdown, destinado aos iniciantes em Python, para incentivar o uso desta linguagem de programação. O formato de saída escolhido para esse material é bookdown::gitbook." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Capítulo 5 Repetição | Python - Guia do Programador" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Este é um livro experimental, criado com uso do pacote bookdown, destinado aos iniciantes em Python, para incentivar o uso desta linguagem de programação. O formato de saída escolhido para esse material é bookdown::gitbook." />
  <meta name="github-repo" content="pjandl/pygp" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Capítulo 5 Repetição | Python - Guia do Programador" />
  
  <meta name="twitter:description" content="Este é um livro experimental, criado com uso do pacote bookdown, destinado aos iniciantes em Python, para incentivar o uso desta linguagem de programação. O formato de saída escolhido para esse material é bookdown::gitbook." />
  

<meta name="author" content="Peter Jandl Junior" />


<meta name="date" content="2021-07-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="seque.html"/>
<link rel="next" href="decis.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Python - Guia do Programador</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Prefácio</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#convenções"><i class="fa fa-check"></i>Convenções</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#código-fonte"><i class="fa fa-check"></i>Código fonte</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>1</b> Introdução</a>
<ul>
<li class="chapter" data-level="1.1" data-path="intro.html"><a href="intro.html#introd-histo"><i class="fa fa-check"></i><b>1.1</b> Breve Histórico</a></li>
<li class="chapter" data-level="1.2" data-path="intro.html"><a href="intro.html#introd-carac"><i class="fa fa-check"></i><b>1.2</b> Características</a></li>
<li class="chapter" data-level="1.3" data-path="intro.html"><a href="intro.html#introd-habil"><i class="fa fa-check"></i><b>1.3</b> Habilidades da Programação</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="comput.html"><a href="comput.html"><i class="fa fa-check"></i><b>2</b> Computação</a>
<ul>
<li class="chapter" data-level="2.1" data-path="comput.html"><a href="comput.html#comput-liter"><i class="fa fa-check"></i><b>2.1</b> Valores Literais</a></li>
<li class="chapter" data-level="2.2" data-path="comput.html"><a href="comput.html#comput-tipos"><i class="fa fa-check"></i><b>2.2</b> Tipos de Dados</a></li>
<li class="chapter" data-level="2.3" data-path="comput.html"><a href="comput.html#comput-varia"><i class="fa fa-check"></i><b>2.3</b> Variáveis</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="comput.html"><a href="comput.html#comput-varia-nomes"><i class="fa fa-check"></i><b>2.3.1</b> Denominação de Variáveis</a></li>
<li class="chapter" data-level="2.3.2" data-path="comput.html"><a href="comput.html#comput-varia-reser"><i class="fa fa-check"></i><b>2.3.2</b> Palavras Reservadas</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="comput.html"><a href="comput.html#comput-opera"><i class="fa fa-check"></i><b>2.4</b> Operadores</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="comput.html"><a href="comput.html#comput-opera-aritm"><i class="fa fa-check"></i><b>2.4.1</b> Operadores Aritméticos</a></li>
<li class="chapter" data-level="2.4.2" data-path="comput.html"><a href="comput.html#comput-opera-relac"><i class="fa fa-check"></i><b>2.4.2</b> Operadores Relacionais</a></li>
<li class="chapter" data-level="2.4.3" data-path="comput.html"><a href="comput.html#comput-opera-logic"><i class="fa fa-check"></i><b>2.4.3</b> Operadores Lógicos</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="comput.html"><a href="comput.html#comput-expre"><i class="fa fa-check"></i><b>2.5</b> Expressões</a></li>
<li class="chapter" data-level="2.6" data-path="comput.html"><a href="comput.html#comput-prior"><i class="fa fa-check"></i><b>2.6</b> Prioridade dos operadores</a></li>
<li class="chapter" data-level="2.7" data-path="comput.html"><a href="comput.html#comput-atrib"><i class="fa fa-check"></i><b>2.7</b> Atribuição</a>
<ul>
<li class="chapter" data-level="2.7.1" data-path="comput.html"><a href="comput.html#comput-atrib-multi"><i class="fa fa-check"></i><b>2.7.1</b> Atribuição Múltipla</a></li>
<li class="chapter" data-level="2.7.2" data-path="comput.html"><a href="comput.html#comput-atrib-compo"><i class="fa fa-check"></i><b>2.7.2</b> Atribuição Composta</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="comput.html"><a href="comput.html#comput-funcao"><i class="fa fa-check"></i><b>2.8</b> Funções</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="e-s.html"><a href="e-s.html"><i class="fa fa-check"></i><b>3</b> Entrada e Saída</a>
<ul>
<li class="chapter" data-level="3.1" data-path="e-s.html"><a href="e-s.html#e-s-saida"><i class="fa fa-check"></i><b>3.1</b> Saída Simples</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="e-s.html"><a href="e-s.html#e-s-saida-escap"><i class="fa fa-check"></i><b>3.1.1</b> Caracteres Especiais</a></li>
<li class="chapter" data-level="3.1.2" data-path="e-s.html"><a href="e-s.html#e-s-saida-opcao"><i class="fa fa-check"></i><b>3.1.2</b> Controle de Separação e Finalização</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="e-s.html"><a href="e-s.html#e-s-entra"><i class="fa fa-check"></i><b>3.2</b> Entrada</a></li>
<li class="chapter" data-level="3.3" data-path="e-s.html"><a href="e-s.html#e-s-format"><i class="fa fa-check"></i><b>3.3</b> Saída Formatada</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="e-s.html"><a href="e-s.html#e-s-format-funcao"><i class="fa fa-check"></i><b>3.3.1</b> Formatação com função <code>format()</code></a></li>
<li class="chapter" data-level="3.3.2" data-path="e-s.html"><a href="e-s.html#e-s-format-inter"><i class="fa fa-check"></i><b>3.3.2</b> Interpolação de <em>string</em></a></li>
<li class="chapter" data-level="3.3.3" data-path="e-s.html"><a href="e-s.html#e-s-format-fstring"><i class="fa fa-check"></i><b>3.3.3</b> Formatação com <em>f-string</em></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="seque.html"><a href="seque.html"><i class="fa fa-check"></i><b>4</b> Sequenciação</a>
<ul>
<li class="chapter" data-level="4.1" data-path="seque.html"><a href="seque.html#seque-progr"><i class="fa fa-check"></i><b>4.1</b> Programa Mínimo</a></li>
<li class="chapter" data-level="4.2" data-path="seque.html"><a href="seque.html#seque-e-p-s"><i class="fa fa-check"></i><b>4.2</b> Estratégia E-P-S</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="seque.html"><a href="seque.html#seque-e-p-s-temper"><i class="fa fa-check"></i><b>4.2.1</b> Problema I: temperatura média e amplitude térmica</a></li>
<li class="chapter" data-level="4.2.2" data-path="seque.html"><a href="seque.html#seque-e-p-s-caixa"><i class="fa fa-check"></i><b>4.2.2</b> Problema II: caixas de papelão</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="repet.html"><a href="repet.html"><i class="fa fa-check"></i><b>5</b> Repetição</a>
<ul>
<li class="chapter" data-level="5.1" data-path="repet.html"><a href="repet.html#repet-while"><i class="fa fa-check"></i><b>5.1</b> Repetição Condicional</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="repet.html"><a href="repet.html#repet-while-conta"><i class="fa fa-check"></i><b>5.1.1</b> Contagem com <code>while</code></a></li>
<li class="chapter" data-level="5.1.2" data-path="repet.html"><a href="repet.html#repet-while-acumu"><i class="fa fa-check"></i><b>5.1.2</b> Agregação com <code>while</code></a></li>
<li class="chapter" data-level="5.1.3" data-path="repet.html"><a href="repet.html#repet-while-ating"><i class="fa fa-check"></i><b>5.1.3</b> Atingimento de condição com <code>while</code></a></li>
<li class="chapter" data-level="5.1.4" data-path="repet.html"><a href="repet.html#repet-while-percu"><i class="fa fa-check"></i><b>5.1.4</b> Percurso com <code>while</code></a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="repet.html"><a href="repet.html#repet-for"><i class="fa fa-check"></i><b>5.2</b> Repetição Automática</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="repet.html"><a href="repet.html#repet-for-percu"><i class="fa fa-check"></i><b>5.2.1</b> Percurso com <code>for</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="repet.html"><a href="repet.html#repet-for-conta"><i class="fa fa-check"></i><b>5.2.2</b> Contagem com <code>for</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="repet.html"><a href="repet.html#repet-for-acumu"><i class="fa fa-check"></i><b>5.2.3</b> Agregação com <code>for</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="decis.html"><a href="decis.html"><i class="fa fa-check"></i><b>6</b> Decisão</a>
<ul>
<li class="chapter" data-level="6.1" data-path="decis.html"><a href="decis.html#decis-if"><i class="fa fa-check"></i><b>6.1</b> Decisão Simples</a></li>
<li class="chapter" data-level="6.2" data-path="decis.html"><a href="decis.html#decis-if-else"><i class="fa fa-check"></i><b>6.2</b> Decisão Completa</a></li>
<li class="chapter" data-level="6.3" data-path="decis.html"><a href="decis.html#decis-if-elif-else"><i class="fa fa-check"></i><b>6.3</b> Decisões Encadeadas</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="modul.html"><a href="modul.html"><i class="fa fa-check"></i><b>7</b> Modularização</a>
<ul>
<li class="chapter" data-level="7.1" data-path="modul.html"><a href="modul.html#modul-main"><i class="fa fa-check"></i><b>7.1</b> Programa Principal</a></li>
<li class="chapter" data-level="7.2" data-path="modul.html"><a href="modul.html#modul-funcao"><i class="fa fa-check"></i><b>7.2</b> Funções</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="modul.html"><a href="modul.html#modul-funcao-tipos"><i class="fa fa-check"></i><b>7.2.1</b> Tipos de funções</a></li>
<li class="chapter" data-level="7.2.2" data-path="modul.html"><a href="modul.html#modul-funcao-return"><i class="fa fa-check"></i><b>7.2.2</b> Retorno de Valor</a></li>
<li class="chapter" data-level="7.2.3" data-path="modul.html"><a href="modul.html#modul-funcao-param"><i class="fa fa-check"></i><b>7.2.3</b> Passagem de Parâmetros</a></li>
<li class="chapter" data-level="7.2.4" data-path="modul.html"><a href="modul.html#modul-funcao-default"><i class="fa fa-check"></i><b>7.2.4</b> Parâmetros <em>Default</em></a></li>
<li class="chapter" data-level="7.2.5" data-path="modul.html"><a href="modul.html#modul-funcao-var"><i class="fa fa-check"></i><b>7.2.5</b> Parâmetros Variáveis</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="modul.html"><a href="modul.html#modul-import"><i class="fa fa-check"></i><b>7.3</b> Importação</a></li>
<li class="chapter" data-level="7.4" data-path="modul.html"><a href="modul.html#modul-packa"><i class="fa fa-check"></i><b>7.4</b> Criação de pacotes e módulos</a></li>
</ul></li>
<li class="appendix"><span><b>Apêndices</b></span></li>
<li class="chapter" data-level="A" data-path="instalação-básica.html"><a href="instalação-básica.html"><i class="fa fa-check"></i><b>A</b> Instalação básica</a></li>
<li class="chapter" data-level="B" data-path="instalação-do-anaconda.html"><a href="instalação-do-anaconda.html"><i class="fa fa-check"></i><b>B</b> Instalação do Anaconda</a></li>
<li class="chapter" data-level="" data-path="referências-bibliográficas.html"><a href="referências-bibliográficas.html"><i class="fa fa-check"></i>Referências Bibliográficas</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Python - Guia do Programador</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="repet" class="section level1" number="5">
<h1><span class="header-section-number">Capítulo 5</span> Repetição</h1>
<p>Sabemos que a programação de computadores exige o domínio de várias habilidades, como a computação e as operações de entrada e saída, cujas instruções podem ser combinadas, por meio da sequenciação, para organizar programas capazes de resolver inúmeros problemas. No entanto, existem muitas situações onde a mesma instrução, instruções semelhantes ou um conjunto de instruções, se repetem, o que demanda uma nova maneira para sua programação.</p>
<p>A <em>repetição</em> trata da execução repetida de um conjunto de passos com base numa condição ou contagem. É uma habilidade que consiste em identificar as instruções cuja execução deve ocorrer mais de uma vez, o que inclui determinar o número de vezes que tais instruções serão executadas ou a condição que exige sua repetição.</p>
<p>Como veremos, o emprego da repetição permite reduzir a quantidade de instruções que são escritas para resolver um problema, o que simplifica o trabalho de programação e aumenta a produtividade do desenvolvedor, além de conferir maior flexibilidade às soluções criadas. A repetição é frequentemente utilizada para realizar:</p>
<ul>
<li>a contagem;</li>
<li>a agregação;</li>
<li>o atingimento de condição;</li>
<li>o percurso em conjunto de elementos.</li>
</ul>
<p>Como nas demais linguagens de programação, o Python oferece dois tipos de repetição que serão apresentadas nas seções que seguem: a <em>condicional</em> (seção <a href="repet.html#repet-while">5.1</a>) e a <em>automática</em> (seção <a href="repet.html#repet-for">5.2</a>) .</p>
<div id="repet-while" class="section level2" number="5.1">
<h2><span class="header-section-number">5.1</span> Repetição Condicional</h2>
<p>A repetição <em>condicional</em> possibilita que uma instrução ou várias instruções sejam executadas diversas vezes, enquanto uma condição permanece verdadeira. A diretiva Python que permite esse comportamento é o <code>while</code>, cuja sintaxe é:</p>
<blockquote>
<p>while &lt;condição&gt;:<br />
     &lt;comando(s)&gt;</p>
</blockquote>
<p>A <em>condição</em> deve ser uma expressão lógica, isto é, cuja avaliação produz um valor de tipo <code>bool</code>, de maneira que, se resulta <code>True</code>, as instruções associadas são executadas; mas quando resulta <code>False</code>, finaliza o comando de repetição, ou seja, interrompe a repetição. Após a condição é obrigatório o uso do dois-pontos <code>:</code> para finalizar a diretiva <code>while</code>.</p>
<p>Podem ser associados um ou mais comandos à diretiva <code>while</code>, desde que estejam indentados<a href="#fn1" class="footnote-ref" id="fnref1"><sup>1</sup></a> de quatro espaços à direita, que é o padrão do Python. É comum que algum dos comandos associados modifique o conteúdo de alguma variável presente na condição, fazendo que, em algum momento, seja avaliada logicamente como falsa.</p>
<p>O comportamento desta diretiva é ilustrado no fluxograma da Figura <a href="repet.html#fig:05-01">5.1</a>. A execução desta diretiva se inicia com a avaliação da expressão lógica da condição, ou seja, seu teste. Se a condição é avaliada como <code>True</code>, os comandos associados são executados sequencialmente, uma vez; se condição é avaliada como <code>False</code>, a diretiva <code>while</code> é finalizada.</p>
<div class="figure"><span id="fig:05-01"></span>
<img src="images/05-01.jpg" alt="Fluxograma da diretiva `while`"  />
<p class="caption">
Figura 5.1: Fluxograma da diretiva <code>while</code>
</p>
</div>
<p>Ao final da execução dos comandos associados, ocorre um <em>desvio</em>, de maneira que a condição é avaliada novamente, repetindo o comportamento descrito. Ou seja: <em>enquanto</em> a condição é avaliada como <code>True</code>, os comandos associados são executados. Ainda na Figura <a href="repet.html#fig:05-01">5.1</a>, é possível notar um caminho fechado quando a condição é verdadeira, razão pela qual as diretivas de repetição são conhecidas como <em>laços</em> ou <em>loops</em>.</p>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"><img src="images/warn.png" alt="WARN" /></th>
<th align="left">A construção da <em>condição</em> empregada pela diretiva <code>while</code> requer muita atenção, pois se avaliada iniciamente como falsa, nenhum dos comandos associados é executado e nenhuma ação é produzida.</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"><img src="images/dont.png" alt="DONT" /></th>
<th align="left">Se a avaliação da <em>condição</em> indicada no <code>while</code> não se tornar falsa, o laço nunca será encerrado, ou seja, teremos um laço infinito. Como o programa não prossegue, dizemos que ficou <em>pendurado</em> (<em>hang-up</em>), o que exige sua interrupção forçada e causa perda de dados, ou seja, é um erro grave de lógica.</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p>As seções que seguem mostram como a diretiva <code>while</code> pode ser utilizada nas aplicações da repetição.</p>
<div id="repet-while-conta" class="section level3" number="5.1.1">
<h3><span class="header-section-number">5.1.1</span> Contagem com <code>while</code></h3>
<p>A <em>contagem</em> é uma das aplicações mais básicas da repetição, pois permite controlar o número de vezes que uma operação definida pelo programador é realizada pelo programa. Exemplos de operações controladas pela contagem são a exibição de mensagens, a entrada de dados, as tentativas em um jogo etc.</p>
<p>O fragmento que segue mostra uma contagem simples de zero a quatro com o uso da diretiva <code>while</code>.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="repet.html#cb1-1" aria-hidden="true" tabindex="-1"></a>contador <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb1-2"><a href="repet.html#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> contador <span class="op">&lt;=</span> <span class="dv">4</span>:</span>
<span id="cb1-3"><a href="repet.html#cb1-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(contador)</span>
<span id="cb1-4"><a href="repet.html#cb1-4" aria-hidden="true" tabindex="-1"></a>    contador <span class="op">+=</span> <span class="dv">1</span> <span class="co"># equivale à contador = contador + 1</span></span></code></pre></div>
<pre><code>&gt;&gt;&gt; 0
&gt;&gt;&gt; 1
&gt;&gt;&gt; 2
&gt;&gt;&gt; 3
&gt;&gt;&gt; 4</code></pre>
<p>O funcionamento deste fragmento é simples. Começa com a inicialização da variável <code>contador</code> com o valor <code>0</code>; o laço de repetição <code>while</code> avalia a condição <code>contador &lt;= 4</code>, que resulta <code>True</code>, pois <code>contador</code> tem valor zero, executando as instruções associadas; a função <code>print()</code> exibe o valor de <code>contador</code>; então a variável contador recebe um incremento de 1 (e passa ter o valor <code>1</code>); ocorre o desvio para que <code>while</code> reavalie a condição.</p>
<p>Assim, as instruções associadas ao <code>while</code> serão executadas <em>enquanto</em> a condição especificada for avaliada como verdadeira, ou seja, a partir de <code>contador = 0</code>, serão executadas para <code>contador = 0, 1, 2, 3, 4</code>, num total de cinco <em>iterações</em><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>. Quando a variável <code>contador</code> contém o valor <code>4</code>, ao receber o incremento de uma unidade, passa a valor <code>5</code>, de maneira que a avaliação da condição <code>contador &lt;= 4</code> resulta em <code>False</code>, encerrando a execução da diretiva <code>while</code>.</p>
<p>Embora simples, toda contagem envolve cinco elementos que precisam ser identificados, como mostra a Figura <a href="repet.html#fig:05-02">5.2</a>:</p>
<ul>
<li>Uma <em>variável de controle</em>, que armazena o valor corrente da contagem;</li>
<li>Um <em>valor inicial</em>, de onde parte a contagem que será realizada;</li>
<li>Um <em>valor final</em>, que indica o limite para o qual a contagem será encerrada;</li>
<li>Um <em>passo</em>, que especifica o incremento ou decremento usado na contagem; e</li>
<li>A <em>operação</em> que será controlada pela contagem.</li>
</ul>
<div class="figure"><span id="fig:05-02"></span>
<img src="images/05-02.jpg" alt="Elementos da contagem no `while`"  />
<p class="caption">
Figura 5.2: Elementos da contagem no <code>while</code>
</p>
</div>
<p>O fragmento que segue mostra uma contagem onde a variável de controle é <code>contador</code>, que recebe o valor inicial <code>10</code>; o valor final será <code>2</code>, pois a condição da diretiva <code>while</code> é <code>contador &gt; 0</code>; e o passo negativo <code>-2</code> estabelece uma contagem regressiva de dois em dois. A operação controlada pela contagem é a impressão do valor da variável de controle com uso da função <code>print()</code>.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="repet.html#cb3-1" aria-hidden="true" tabindex="-1"></a>contador <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb3-2"><a href="repet.html#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> contador <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb3-3"><a href="repet.html#cb3-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(contador)</span>
<span id="cb3-4"><a href="repet.html#cb3-4" aria-hidden="true" tabindex="-1"></a>    contador <span class="op">=</span> contador <span class="op">-</span> <span class="dv">2</span> <span class="co"># equivale à contador -= 2</span></span></code></pre></div>
<pre><code>&gt;&gt;&gt; 10
&gt;&gt;&gt; 8
&gt;&gt;&gt; 6
&gt;&gt;&gt; 4
&gt;&gt;&gt; 2</code></pre>
<p>O uso da repetição é sempre vantajoso quando comparada à repetição direta de código. O fragmento que segue executa uma mesma operação quatro vezes, ou seja, efetua a impressão de uma mensagem com uso repetido da função <code>print().</code></p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="repet.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Python&#39;</span>)</span>
<span id="cb5-2"><a href="repet.html#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Python&#39;</span>)</span>
<span id="cb5-3"><a href="repet.html#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Python&#39;</span>)</span>
<span id="cb5-4"><a href="repet.html#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Python&#39;</span>)</span></code></pre></div>
<pre><code>&gt;&gt;&gt; Python
&gt;&gt;&gt; Python
&gt;&gt;&gt; Python
&gt;&gt;&gt; Python</code></pre>
<p>Já no fragmento que segue, operação em si não se repete, mas é adicionado o código da contagem referente ao controle da repetição, produzindo o mesmo resultado.</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="repet.html#cb7-1" aria-hidden="true" tabindex="-1"></a>contador <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb7-2"><a href="repet.html#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> contador <span class="op">&lt;</span> <span class="dv">4</span>:</span>
<span id="cb7-3"><a href="repet.html#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="st">&#39;Python&#39;</span>)</span>
<span id="cb7-4"><a href="repet.html#cb7-4" aria-hidden="true" tabindex="-1"></a>    contador <span class="op">+=</span> <span class="dv">1</span> <span class="co"># equivale à contador = contador + 1</span></span></code></pre></div>
<pre><code>&gt;&gt;&gt; Python
&gt;&gt;&gt; Python
&gt;&gt;&gt; Python
&gt;&gt;&gt; Python</code></pre>
<p>Embora não seja óbvio, o fragmento que emprega o laço de repetição é mais vantajoso. Apesar da quantidade de código ser semelhante e da simplicidade da repetição direta, observe que o código que emprega a repetição com a diretiva <code>while</code> é praticamente o mesmo 1, 4, 10 ou 1000 execuções da operação, pois apenas o limite é alterado. Ou seja, quanto maior o número de repetições ou maior é número de instruções repetidas, maior também é a vantagem no uso de laços de repetição.</p>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"><img src="images/info.png" alt="INFO" /></th>
<th align="left">O uso dos laços de repetição fará com que o programa-fonte, assim como o código executável do programa sejam menores, com consequente redução do espaço em disco e de memória necessários. Mas o número de instruções executadas não será reduzido, portanto o desempenho será semelhante ao do código construído sem laços de repetição.</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p>Se, no fragmento anterior, o literal <code>4</code> é substituído por uma variável, então a quantidade de repetições pode ser determinada por uma expressão calculada <em>antes</em> da execução do laço ou mesmo informada pelo usuário por meio de uma operação de entrada de dados.</p>
<p>Segue um programa, cujo arquivo é <code>media.py</code>, capaz de calcular as médias de um número arbitrário de alunos, que evidencia a utilidade dos laços de repetição. O programa se inicia solicitando o número (inteiro) de alunos para os quais serão calculadas as médias. Um laço de repetição <code>while</code> efetua a contagem de <code>1</code> até o <code>numero_alunos</code> inclusive, solicitando duas notas reais <code>nota_1</code> e <code>nota_2</code>, com as quais é calculada e exibida a <code>media</code>.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="repet.html#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Média dos Alunos&#39;</span>)</span>
<span id="cb9-2"><a href="repet.html#cb9-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-3"><a href="repet.html#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Entrada de dados</span></span>
<span id="cb9-4"><a href="repet.html#cb9-4" aria-hidden="true" tabindex="-1"></a>numero_alunos <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(<span class="st">&#39;Número de alunos? &#39;</span>))</span>
<span id="cb9-5"><a href="repet.html#cb9-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-6"><a href="repet.html#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Laço de Repetição</span></span>
<span id="cb9-7"><a href="repet.html#cb9-7" aria-hidden="true" tabindex="-1"></a>contador <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb9-8"><a href="repet.html#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> contador <span class="op">&lt;=</span> numero_alunos:</span>
<span id="cb9-9"><a href="repet.html#cb9-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;Aluno #</span><span class="sc">{</span>contador<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb9-10"><a href="repet.html#cb9-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># lê notas</span></span>
<span id="cb9-11"><a href="repet.html#cb9-11" aria-hidden="true" tabindex="-1"></a>    nota_1 <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">&#39;Nota 1? &#39;</span>))</span>
<span id="cb9-12"><a href="repet.html#cb9-12" aria-hidden="true" tabindex="-1"></a>    nota_2 <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">&#39;Nota 2? &#39;</span>))</span>
<span id="cb9-13"><a href="repet.html#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calcula média individual</span></span>
<span id="cb9-14"><a href="repet.html#cb9-14" aria-hidden="true" tabindex="-1"></a>    media <span class="op">=</span> (nota_1 <span class="op">+</span> nota_2) <span class="op">/</span> <span class="dv">2</span></span>
<span id="cb9-15"><a href="repet.html#cb9-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># exibe média individual</span></span>
<span id="cb9-16"><a href="repet.html#cb9-16" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;Nota 1:</span><span class="sc">{</span>nota_1<span class="sc">:.1f}</span><span class="ss">  Nota 2:</span><span class="sc">{</span>nota_2<span class="sc">:.1f}</span><span class="ss">  &#39;</span> \</span>
<span id="cb9-17"><a href="repet.html#cb9-17" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f&#39;Média:</span><span class="sc">{</span>media<span class="sc">:.2f}</span><span class="ch">\n</span><span class="ss">&#39;</span>)</span>
<span id="cb9-18"><a href="repet.html#cb9-18" aria-hidden="true" tabindex="-1"></a>    contador <span class="op">+=</span> <span class="dv">1</span> <span class="co"># incrementa contador</span></span>
<span id="cb9-19"><a href="repet.html#cb9-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-20"><a href="repet.html#cb9-20" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Fim&#39;</span>)</span></code></pre></div>
<p>Deve ser observado que, com exceção da diretiva <code>contador += 1</code>, todos os comandos associados ao <code>while</code> são destinados a realizar o cálculo da média de um aluno individual, identificado pelo número contido na variável <code>contador</code>, que permite o controle da repetição neste laço. O resultado deste programa pode ser visto na Figura <a href="repet.html#fig:05-03">5.3</a>.</p>
<div class="figure"><span id="fig:05-03"></span>
<img src="images/05-03.jpg" alt="Execução de `media.py`"  />
<p class="caption">
Figura 5.3: Execução de <code>media.py</code>
</p>
</div>
<p>Vale observar que o laço de repetição <code>while</code> executa as etapas parciais de entrada, processamento e saída para cada aluno. Além disso, o mesmo código é executado para um número variável de alunos, conferindo uma flexibilidade ao programa que não pode ser obtida com código de natureza estritamente sequencial (que teria que ser adaptado para cada número diferente de alunos).</p>
</div>
<div id="repet-while-acumu" class="section level3" number="5.1.2">
<h3><span class="header-section-number">5.1.2</span> Agregação com <code>while</code></h3>
<p>A <em>agregação</em> é outra operação frequentemente realizada nos programas, na qual um conjunto de dados é transformado é um resultado único, o <em>agregado</em>. Quando caixas são carregadas em um caminhão, é possível tanto contar o número de volumes, como somar o peso total embarcado, onde esta contagem e este somatório são exemplos de valores agregados, pois combinam uma dado individual num resultado único.</p>
<p>Além de contagens e de somas (ou somatórios), outros exemplos de agregação são a determinação de médias, de produtos (ou produtórios), de valores máximos e mínimos.</p>
<p>O <em>script</em> que segue efetua duas agregações com os inteiros existentes entre <code>1</code> e <code>10</code>: sua soma e seu produto, exibindo seus resultados. As variáveis <code>ini</code> e <code>fim</code> armazenam os limites da faixa de valores que se deseja processar. Este <em>script</em> é denominado <code>agregacao_while.py</code>.</p>
<p>Observe que as variáveis necessárias para conter as agregações devem ser inicializadas <em>antes</em> dos laços de repetição utilizados para realizar a agregação. Aqui <code>soma</code> é inicializada com zero e <code>produto</code> é inicializada com <code>1</code>, respectivamente os elementos neutro da soma e da multiplicação. A variável <code>contagem</code> se destina ao controle da contagem dos valores inteiros entre <code>ini</code> e <code>fim</code>.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="repet.html#cb10-1" aria-hidden="true" tabindex="-1"></a>ini <span class="op">=</span> <span class="dv">1</span> <span class="co"># definição do início da agregação</span></span>
<span id="cb10-2"><a href="repet.html#cb10-2" aria-hidden="true" tabindex="-1"></a>fim <span class="op">=</span> <span class="dv">10</span> <span class="co"># definição do final da agregação</span></span>
<span id="cb10-3"><a href="repet.html#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;Agregação while [</span><span class="sc">{</span>ini<span class="sc">}</span><span class="ss">..</span><span class="sc">{</span>fim<span class="sc">}</span><span class="ss">]&#39;</span>)</span>
<span id="cb10-4"><a href="repet.html#cb10-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-5"><a href="repet.html#cb10-5" aria-hidden="true" tabindex="-1"></a>soma <span class="op">=</span> <span class="dv">0</span> <span class="co"># variável para agregação de soma</span></span>
<span id="cb10-6"><a href="repet.html#cb10-6" aria-hidden="true" tabindex="-1"></a>produto <span class="op">=</span> <span class="dv">1</span> <span class="co"># variável para agregação de produto</span></span>
<span id="cb10-7"><a href="repet.html#cb10-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-8"><a href="repet.html#cb10-8" aria-hidden="true" tabindex="-1"></a>contador <span class="op">=</span> ini <span class="co"># controle da contagem</span></span>
<span id="cb10-9"><a href="repet.html#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> contador <span class="op">&lt;=</span> fim:</span>
<span id="cb10-10"><a href="repet.html#cb10-10" aria-hidden="true" tabindex="-1"></a>    soma <span class="op">+=</span> contador <span class="co"># soma no agregado</span></span>
<span id="cb10-11"><a href="repet.html#cb10-11" aria-hidden="true" tabindex="-1"></a>    produto <span class="op">*=</span> contador <span class="co"># multiplica pelo agregado</span></span>
<span id="cb10-12"><a href="repet.html#cb10-12" aria-hidden="true" tabindex="-1"></a>    contador <span class="op">+=</span> <span class="dv">1</span> <span class="co"># incremento do contador</span></span>
<span id="cb10-13"><a href="repet.html#cb10-13" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-14"><a href="repet.html#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;Soma = </span><span class="sc">{</span>soma<span class="sc">}</span><span class="ch">\n</span><span class="ss">Produto = </span><span class="sc">{</span>produto<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre><code>&gt;&gt;&gt; Agregação while [1..10]
&gt;&gt;&gt; Soma = 55
&gt;&gt;&gt; Produto = 3628800</code></pre>
<p>As operações de agregação (a soma e o produto) são realizadas pelos comandos associados aos laços de repetição, pois devem ser aplicadas a cada um dos valores na faixa entre <code>ini</code> e <code>fim</code>. O incremento unitário do <code>contador</code> é realizado após as operações de agregação. A exibição dos resultados é realizada <em>após</em> os laços de repetição, ou seja, quando as operações de agregação já foram aplicadas a todos os dados, com eventual processamento adicional e exibição dos resultados finais.</p>
<p>Outras operações de agregação, como contagens, obtenção de mínimos e máximo, seguem a mesma estrutura, exigindo algum cuidado na seleção do valor de inicialização da variável destinada ao agregado.</p>
<p>No exemplo <code>media.py</code>, da seção anterior, são calculadas as médias individuais de um conjunto de alunos. A média geral da classe, uma informação adicional possível de ser extraída destes dados, é um outro exemplo de agregação, que pode ser obtida com as modificações introduzidas no exemplo que segue, denominado <code>media2.py</code>.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="repet.html#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Média dos Alunos&#39;</span>)</span>
<span id="cb12-2"><a href="repet.html#cb12-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-3"><a href="repet.html#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Entrada de dados</span></span>
<span id="cb12-4"><a href="repet.html#cb12-4" aria-hidden="true" tabindex="-1"></a>numero_alunos <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(<span class="st">&#39;Número de alunos? &#39;</span>))</span>
<span id="cb12-5"><a href="repet.html#cb12-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-6"><a href="repet.html#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Laço de Repetição</span></span>
<span id="cb12-7"><a href="repet.html#cb12-7" aria-hidden="true" tabindex="-1"></a>contador <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb12-8"><a href="repet.html#cb12-8" aria-hidden="true" tabindex="-1"></a>soma_medias <span class="op">=</span> <span class="dv">0</span> <span class="co"># variável para agregação (soma)</span></span>
<span id="cb12-9"><a href="repet.html#cb12-9" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> contador <span class="op">&lt;=</span> numero_alunos:</span>
<span id="cb12-10"><a href="repet.html#cb12-10" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;Aluno #</span><span class="sc">{</span>contador<span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb12-11"><a href="repet.html#cb12-11" aria-hidden="true" tabindex="-1"></a>    <span class="co"># lê notas</span></span>
<span id="cb12-12"><a href="repet.html#cb12-12" aria-hidden="true" tabindex="-1"></a>    nota_1 <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">&#39;Nota 1? &#39;</span>))</span>
<span id="cb12-13"><a href="repet.html#cb12-13" aria-hidden="true" tabindex="-1"></a>    nota_2 <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">&#39;Nota 2? &#39;</span>))</span>
<span id="cb12-14"><a href="repet.html#cb12-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calcula média individual</span></span>
<span id="cb12-15"><a href="repet.html#cb12-15" aria-hidden="true" tabindex="-1"></a>    media <span class="op">=</span> (nota_1 <span class="op">+</span> nota_2) <span class="op">/</span> <span class="dv">2</span></span>
<span id="cb12-16"><a href="repet.html#cb12-16" aria-hidden="true" tabindex="-1"></a>    <span class="co"># agrega média individual a soma das médias</span></span>
<span id="cb12-17"><a href="repet.html#cb12-17" aria-hidden="true" tabindex="-1"></a>    soma_medias <span class="op">+=</span> media</span>
<span id="cb12-18"><a href="repet.html#cb12-18" aria-hidden="true" tabindex="-1"></a>    <span class="co"># exibe média individual</span></span>
<span id="cb12-19"><a href="repet.html#cb12-19" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;Nota 1:</span><span class="sc">{</span>nota_1<span class="sc">:.1f}</span><span class="ss">  Nota 2:</span><span class="sc">{</span>nota_2<span class="sc">:.1f}</span><span class="ss">  &#39;</span> \</span>
<span id="cb12-20"><a href="repet.html#cb12-20" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f&#39;Média:</span><span class="sc">{</span>media<span class="sc">:.2f}</span><span class="ch">\n</span><span class="ss">&#39;</span>)</span>
<span id="cb12-21"><a href="repet.html#cb12-21" aria-hidden="true" tabindex="-1"></a>    contador <span class="op">+=</span> <span class="dv">1</span> <span class="co"># incrementa contador</span></span>
<span id="cb12-22"><a href="repet.html#cb12-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-23"><a href="repet.html#cb12-23" aria-hidden="true" tabindex="-1"></a><span class="co"># calcula e exibe média geral</span></span>
<span id="cb12-24"><a href="repet.html#cb12-24" aria-hidden="true" tabindex="-1"></a>media_geral <span class="op">=</span> soma_medias <span class="op">/</span> numero_alunos</span>
<span id="cb12-25"><a href="repet.html#cb12-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;Média geral:</span><span class="sc">{</span>media_geral<span class="sc">:.2f}</span><span class="ch">\n</span><span class="ss">&#39;</span>)</span>
<span id="cb12-26"><a href="repet.html#cb12-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-27"><a href="repet.html#cb12-27" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Fim&#39;</span>)</span></code></pre></div>
<p>São três as modificações realizadas para o cômputo da média geral:</p>
<ol style="list-style-type: decimal">
<li>Criação da variável <code>soma_medias</code>, inicializada com valor <code>0</code>, o valor neutro da soma, para conter a agregação (da soma) das médias.</li>
</ol>
<pre><code>soma_medias = 0</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Soma da médias individuais à variável <code>soma_medias</code>, realizando sua agregação.</li>
</ol>
<pre><code>soma_medias += media</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Cálculo e exibição da média geral.</li>
</ol>
<pre><code>media_geral = soma_medias / numero_alunos
print(f&#39;Média geral:{media_geral:.2f}\n&#39;)</code></pre>
<p>A Figura <a href="repet.html#fig:05-04">5.4</a> exibe os resultados produzidos pelo programa <code>media2.py</code>.</p>
<div class="figure"><span id="fig:05-04"></span>
<img src="images/05-04.jpg" alt="Execução de `media2.py`"  />
<p class="caption">
Figura 5.4: Execução de <code>media2.py</code>
</p>
</div>
<p>Neste exemplo, é necessário realizar uma operação adicional para obtenção da média, que é divisão do agregado da soma pela número de elementos somados. Estas operações de finalização, assim como a exibição dos resultados finais é realizada <em>após</em> os laços de repetição, ou seja, quando as operações de agregação já foram aplicadas a todos os dados.</p>
</div>
<div id="repet-while-ating" class="section level3" number="5.1.3">
<h3><span class="header-section-number">5.1.3</span> Atingimento de condição com <code>while</code></h3>
<p>Outra possibilidade do uso de laços de repetição condicionais é para que uma condição específica seja atingida, ou seja, para permitir a execução de um conjunto de operações até que um objetivo seja alcançado.</p>
<p>Considere a necessidade de um programa em obter um número, informado pelo usuário, que esteja dentro de uma faixa específica de valores. Por exemplo, a obtenção de um número entre 1 e 5, ou seja, um valor inteiro que pertence ao conjunto <code>(1, 2, 3, 4, 5)</code>. O fragmento que segue é capaz de realizar a entrada necessária.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="repet.html#cb16-1" aria-hidden="true" tabindex="-1"></a>minimo <span class="op">=</span> <span class="dv">1</span> <span class="co"># valor mínimo da faixa</span></span>
<span id="cb16-2"><a href="repet.html#cb16-2" aria-hidden="true" tabindex="-1"></a>maximo <span class="op">=</span> <span class="dv">5</span> <span class="co"># valor máximo da faixa</span></span>
<span id="cb16-3"><a href="repet.html#cb16-3" aria-hidden="true" tabindex="-1"></a>valor <span class="op">=</span> <span class="dv">0</span> <span class="co"># valor fornecido pelo usuário</span></span>
<span id="cb16-4"><a href="repet.html#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> valor <span class="op">&lt;</span> minimo <span class="kw">or</span> valor <span class="op">&gt;</span> maximo:</span>
<span id="cb16-5"><a href="repet.html#cb16-5" aria-hidden="true" tabindex="-1"></a>    valor <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(</span>
<span id="cb16-6"><a href="repet.html#cb16-6" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f&#39;Digite um valor entre </span><span class="sc">{</span>minimo<span class="sc">}</span><span class="ss"> e </span><span class="sc">{</span>maximo<span class="sc">}</span><span class="ss">: &#39;</span>))</span>
<span id="cb16-7"><a href="repet.html#cb16-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb16-8"><a href="repet.html#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Valor obtido na faixa:&#39;</span>, valor)</span></code></pre></div>
<p>No início do fragmento, observa-se três variáveis: <code>minimo</code> e <code>maximo</code>, que contém os respectivos valores mínimo e máximo da faixa desejada; e <code>valor</code>, que conterá o valor a ser fornecido pelo usuário, mas é inicializada com um valor <em>fora</em> da faixa desejada.</p>
<p>O laço de repetição <code>while</code> tem como condição uma expressão lógica que determina se o conteúdo da variável <code>valor</code> está ou não na faixa de valores desejada, ou seja, verifica se <code>valor</code> é menor do que o valor mínimo <em>ou</em> se é maior do o máximo. Quando uma destas duas condições ocorre, o resultado da expressão lógica é <code>True</code>, indicando que o conteúdo de <code>valor</code> está <em>fora</em> da faixa desejada, permitindo executar a única operação associada ao laço, que efetua a entrada de dados.</p>
<p>Como a variável <code>valor</code> foi inicializada com conteúdo <em>fora</em> da faixa de valores, a condição indicada no laço de repetição é inicialmente satisfeita e uma operação de leitura efetuada, modificando o conteúdo de <code>valor</code>. Como não existem outros comandos associados, a condição do laço é avaliada novamente.</p>
<p>A realização da operação de leitura modifica o conteúdo de variável valor, de maneira, que a condição é reavaliada. Assim, <em>enquanto</em> o conteúdo de <code>valor</code> estiver fora da faixa desejada, a entrada de dados será repetida, mas quando o objetivo é atingido (valor dentro da faixa), o laço de repetição é encerrado.</p>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"><img src="images/warn.png" alt="WARN" /></th>
<th align="left">O uso da repetição condicional para atingimento de objetivo exige atenção para construção da expressão lógica, que deve garantir a execução das instruções associadas enquanto a condição desejada não é atingida e, ao mesmo tempo, seu encerramento quando o objetivo é alcançado.</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
</div>
<div id="repet-while-percu" class="section level3" number="5.1.4">
<h3><span class="header-section-number">5.1.4</span> Percurso com <code>while</code></h3>
<p>É bastante frequente que os programa manipulem muitos dados, de tipos e significados diferentes. No entanto, o uso de variáveis simples, tal como feito até o momento, não é adequado para armazenar, organizadamente, a grande variedade e quantidade de dados requeridas pelos programas. Nesta situação, são necessárias <em>estruturas de dados</em> mais apropriadas, tais como as listas, as tuplas, os conjuntos e os dicionários, disponíveis no Python.</p>
<p>Uma estrutura de dados é capaz de conter um número variável de dados, tratados como seus elementos, e, como será visto mais à frente, sempre oferece uma maneira para acessar individualmente cada um dos dados que contém. É comum que um programa realize o acesso à todos os elementos de uma estrutura de dados, o que é chamado de <em>percurso</em> sobre a estrutura.</p>
<p>Segue a declaração de uma <em>lista</em> em Python, uma estrutura de dados capaz de conter um número variável de elementos de qualquer tipo. No caso, a lista é denominada <code>copas</code> e nela são armazenados alguns valores inteiros, indicados como uma sequência de valores, separados por vírgulas, delimitados por colchetes:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="repet.html#cb17-1" aria-hidden="true" tabindex="-1"></a>copas <span class="op">=</span> [<span class="dv">1958</span>, <span class="dv">1962</span>, <span class="dv">1970</span>, <span class="dv">1994</span>, <span class="dv">2002</span>]</span></code></pre></div>
<p>As listas são indexáveis, ou seja, cada um de seus elementos pode ser acessado por meio de um índice inteiro, onde <code>0</code> corresponde ao primeiro elemento, <code>1</code> ao segundo elemento e assim por diante. Além disso, a função <em>built-in</em> <code>len()</code> permite determinar o comprimento (ou tamanho) de uma lista, isto é, seu número de elementos, de modo sua aplicação na lista <code>copas</code> retorna o valor <code>5</code>, pois esta estrutura contém cinco valores.</p>
<p>Com isso em mente, a realização de uma contagem de <code>0</code> até o comprimento da lista permite recuperar, individualmente cada elemento desta lista, como segue:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="repet.html#cb18-1" aria-hidden="true" tabindex="-1"></a>indice <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb18-2"><a href="repet.html#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="cf">while</span> indice <span class="op">&lt;</span> <span class="bu">len</span>(copas):</span>
<span id="cb18-3"><a href="repet.html#cb18-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(indice, <span class="st">&#39;:&#39;</span>, copas[indice])</span>
<span id="cb18-4"><a href="repet.html#cb18-4" aria-hidden="true" tabindex="-1"></a>    indice <span class="op">+=</span> <span class="dv">1</span></span></code></pre></div>
<pre><code>&gt;&gt;&gt; 0 : 1958
&gt;&gt;&gt; 1 : 1962
&gt;&gt;&gt; 2 : 1970
&gt;&gt;&gt; 3 : 1994
&gt;&gt;&gt; 4 : 2002</code></pre>
<p>Vale destacar que a lista <code>copas</code> tem cinco elementos, portanto seu comprimento tem igual valor, e os índices válidos para acessar seus elementos são <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, e <code>4</code>, valores menores do que seu comprimento, como indicado na condição do laço de repetição <code>while</code>.</p>
</div>
</div>
<div id="repet-for" class="section level2" number="5.2">
<h2><span class="header-section-number">5.2</span> Repetição Automática</h2>
<p>A diretiva <code>for</code> oferece um mecanismo de repetição <em>automática</em>, que permite a execução de uma instrução ou várias instruções para cada elemento de um sequência de valores. A sintaxe desta diretiva é:</p>
<blockquote>
<p>for &lt;var&gt; in &lt;sequência&gt;:<br />
     &lt;comando(s)&gt;</p>
</blockquote>
<p>A variável de controle <code>var</code>, que pode ser usada nos comandos associados ao <code>for</code>, recebe todos os elementos da <em>sequência</em>, um de cada vez, executando os comandos associados para cada valor. A variável de controle é separada da sequência por meio da palavra reservada <code>in</code>. Além disso a diretiva <code>for</code> deve ser finalizada por um dois-pontos <code>:</code>, também obrigatório.</p>
<p>A <em>sequência</em> deve ser um objeto <code>iterable</code> do Python, ou seja, um objeto de qualquer tipo, mas que suporte o <em>percurso</em> por seus elementos, de maneira que, um a um, possam ser recuperados e aplicados à variável de controle <code>var</code>.</p>
<p>Também deve ser observado que os comandos associados devem indentados com quatro espaços à direita, o padrão do Python, para que sejam executados a cada iteração do laço de repetição automática.</p>
<p>O comportamento desta diretiva é ilustrado no fluxograma da Figura <a href="repet.html#fig:05-05">5.5</a>. A execução desta diretiva se inicia com a obtenção do objeto <code>iterable</code> indicado, ou seja, com o preparo da lista de valores que serão aplicados à variável de controle. Se existe valor disponível na lista, a variável de controle <code>var</code> recebe tal valor e os comandos associados são executados sequencialmente. Após a execução destes comandos, ocorre um <em>desvio</em> para verificar a existência de outro valor na lista, repetindo-se este processo. Quando não existem mais valores na lista, a diretiva <code>for</code> é finalizada.</p>
<div class="figure"><span id="fig:05-05"></span>
<img src="images/05-05.jpg" alt="Fluxograma da diretiva `for`"  />
<p class="caption">
Figura 5.5: Fluxograma da diretiva <code>for</code>
</p>
</div>
<p>Em resumo: <em>para cada</em> valor presente na sequência indicada pelo objeto <code>iterable</code> são executados os comandos associados. Na Figura <a href="repet.html#fig:05-04">5.4</a> é possível observar um caminho fechado quando existem elementos disponíveis na sequência indicada, de maneira que a diretiva <code>for</code> também seja conhecidas como um <em>laço</em> ou <em>loop</em>.</p>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"><img src="images/warn.png" alt="WARN" /></th>
<th align="left">Caso a <em>sequência</em> indicada pela diretiva <code>for</code> esteja inicialmente vazia, nenhum dos comandos associados é executado e nenhuma ação é produzida.</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p>As próximas seções mostram o uso da diretiva <code>for</code> nas várias aplicações da repetição.</p>
<div id="repet-for-percu" class="section level3" number="5.2.1">
<h3><span class="header-section-number">5.2.1</span> Percurso com <code>for</code></h3>
<p>A diretiva <code>for</code> é capaz de percorrer, automaticamente, todos os elementos de objetos <code>iterable</code> do Python, como listas, tuplas, conjuntos e outras estruturas. O fragmento que segue mostra a impressão de todos os elementos da lista denominada <code>copas</code>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="repet.html#cb20-1" aria-hidden="true" tabindex="-1"></a>copas <span class="op">=</span> [<span class="dv">1958</span>, <span class="dv">1962</span>, <span class="dv">1970</span>, <span class="dv">1994</span>, <span class="dv">2002</span>]</span>
<span id="cb20-2"><a href="repet.html#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> copas:</span>
<span id="cb20-3"><a href="repet.html#cb20-3" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(v)</span></code></pre></div>
<pre><code>&gt;&gt;&gt; 1958
&gt;&gt;&gt; 1962
&gt;&gt;&gt; 1970
&gt;&gt;&gt; 1994
&gt;&gt;&gt; 2002</code></pre>
<p>Neste outro exemplo, uma lista de valores é definida diretamente na diretiva <code>for</code> e no comando de impressão associado é exibido o valor extraído da lista e seu quadrado. Aqui se combina a repetição com a computação.</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="repet.html#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> [<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>]:</span>
<span id="cb22-2"><a href="repet.html#cb22-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;</span><span class="sc">{v}</span><span class="ss">**2 --&gt;</span><span class="sc">{v</span> <span class="op">**</span> <span class="dv">2</span><span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre><code>&gt;&gt;&gt; 1**2 --&gt;1
&gt;&gt;&gt; 2**2 --&gt;4
&gt;&gt;&gt; 3**2 --&gt;9
&gt;&gt;&gt; 4**2 --&gt;16
&gt;&gt;&gt; 5**2 --&gt;25</code></pre>
<p>O uso de <code>for</code> é bastante conveniente, pois requer apenas a definição de uma variável de controle, que, a cada iteração, recebe um dos valores armazenados na lista. Nada mais é necessário.</p>
</div>
<div id="repet-for-conta" class="section level3" number="5.2.2">
<h3><span class="header-section-number">5.2.2</span> Contagem com <code>for</code></h3>
<p>Para que a diretiva <code>for</code> realize uma contagem, é necessário fornecer uma sequência com os valores presentes na contagem, além da variável de controle, como segue:</p>
<div class="sourceCode" id="cb24"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="repet.html#cb24-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> [<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>]:</span>
<span id="cb24-2"><a href="repet.html#cb24-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(v)</span></code></pre></div>
<pre><code>&gt;&gt;&gt; 0
&gt;&gt;&gt; 1
&gt;&gt;&gt; 2
&gt;&gt;&gt; 3
&gt;&gt;&gt; 4</code></pre>
<p>Embora simples, essa alternativa é claramente inconveniente quando a contagem tem mais do alguns poucos valores. Nesses casos, é muito útil o uso auxiliar da função <em>built-in</em> <code>range()</code>, capaz de gerar a sequência de valores desejada. Observe o código que segue, que produz a mesma contagem do fragmento anterior.</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="repet.html#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> v <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">5</span>):</span>
<span id="cb26-2"><a href="repet.html#cb26-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(v)</span></code></pre></div>
<pre><code>&gt;&gt;&gt; 0
&gt;&gt;&gt; 1
&gt;&gt;&gt; 2
&gt;&gt;&gt; 3
&gt;&gt;&gt; 4</code></pre>
<p>A função <em>built-in</em> <code>range()</code> é simples de usar e possui a seguinte sintaxe:</p>
<blockquote>
<p>range ([inicio, ] &lt;fim&gt; [, passo])</p>
</blockquote>
<p>Os três elementos essenciais de qualquer contagem podem ser indicados em <code>range()</code>, como mostra a Figura <a href="repet.html#fig:05-06">5.6</a>: o <em>valor inicial</em> <code>inicio</code>, de onde parte a contagem; o <em>valor final</em> <code>fim</code>, que indica o limite para o qual a contagem termina; e <em>passo</em>, para especificar o incremento ou decremento usado na contagem. Observe ainda o valor inicial <code>inicio</code> é opcional e, portanto, pode ser omitido, situação em que o valor <code>0</code> é utilizado. Da mesma forma, <code>passo</code> é opcional, sendo que sua omissão emprega o incremento unitário <code>1</code>. Finalmente, deve ser destacado que o valor indicado em <code>fim</code> não é incluso na contagem, mas apenas os valores <em>menores</em> do que <code>fim</code>.</p>
<div class="figure"><span id="fig:05-06"></span>
<img src="images/05-06.jpg" alt="Elementos da contagem no `for`"  />
<p class="caption">
Figura 5.6: Elementos da contagem no <code>for</code>
</p>
</div>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"><img src="images/warn.png" alt="WARN" /></th>
<th align="left">Os valores de <em>início</em>, <em>fim</em> e <em>passo</em> indicados na função <code>range()</code> devem ser inteiros, ou seja, do tipo <code>int</code>, caso contrário será lançada a exceção <code>TypeError</code>.</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p>Por exemplo, uma contagem de <code>0</code> até <code>100</code> (incluso) pode ser indicada com qualquer uma das chamadas à função <code>range()</code> que seguem:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="repet.html#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># valor final é incluido com soma de 1</span></span>
<span id="cb28-2"><a href="repet.html#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="bu">range</span>(<span class="dv">100</span> <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb28-3"><a href="repet.html#cb28-3" aria-hidden="true" tabindex="-1"></a><span class="bu">range</span>(<span class="dv">101</span>)</span>
<span id="cb28-4"><a href="repet.html#cb28-4" aria-hidden="true" tabindex="-1"></a><span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">100</span> <span class="op">+</span> <span class="dv">1</span>)</span>
<span id="cb28-5"><a href="repet.html#cb28-5" aria-hidden="true" tabindex="-1"></a><span class="bu">range</span>(<span class="dv">0</span>, <span class="dv">101</span>, <span class="dv">1</span>)</span></code></pre></div>
<pre><code>&gt;&gt;&gt; range(0, 101)
&gt;&gt;&gt; range(0, 101)
&gt;&gt;&gt; range(0, 101)
&gt;&gt;&gt; range(0, 101)</code></pre>
<table>
<colgroup>
<col width="11%" />
<col width="88%" />
</colgroup>
<thead>
<tr class="header">
<th align="center"><img src="images/warn.png" alt="WARN" /></th>
<th align="left">Quando se escreve <code>range(N)</code>, apesar da contagem se iniciar em <code>0</code> e ser finalizada em <code>N-1</code>, observe que a sequência gerada possui <code>N</code> valores, pois o <code>0</code> é incluso por padrão. Assim, se indicamos <code>range(3)</code>, a sequência gerada é <code>0, 1, 2</code>, que contém três valores.</th>
</tr>
</thead>
<tbody>
</tbody>
</table>
<p>Outra contagem simples, por exemplo, de <code>-25</code> até <code>25</code> (não incluso), de <code>3</code> em <code>3</code>, pode ser realizada como segue. Na função <code>print()</code> subtituimos o finalizador padrão <code>\n</code> por um espaço em branco, tornando a saída produzida mais compacta.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="repet.html#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> x <span class="kw">in</span> <span class="bu">range</span>(<span class="op">-</span><span class="dv">25</span>, <span class="dv">25</span>, <span class="dv">3</span>):</span>
<span id="cb30-2"><a href="repet.html#cb30-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(x, end<span class="op">=</span><span class="st">&#39; &#39;</span>)</span></code></pre></div>
<pre><code>&gt;&gt;&gt; -25 -22 -19 -16 -13 -10 -7 -4 -1 2 5 8 11 14 17 20 23</code></pre>
<p>O uso combinado da diretiva ´for´ e da função <code>range()</code> simplifica a realização de contagens e de outras operações que empreguem sequências simples de valores.</p>
</div>
<div id="repet-for-acumu" class="section level3" number="5.2.3">
<h3><span class="header-section-number">5.2.3</span> Agregação com <code>for</code></h3>
<p>A repetição automática <code>for</code> permite a realização de operações de <em>agregação</em> baseadas em contagens ou no percurso de sequências de dados, de maneira que podem ser obtidas somas, produtos, médidas, obtenção de máximos e mínimos, além de outras contagens.</p>
<p>O fragmento que segue, denominado <code>agregacao_for.py</code>, efetua duas agregações com os inteiros existentes entre <code>1</code> e <code>10</code>: sua soma e seu produto, exibindo seus resultados. As variáveis <code>ini</code> e <code>fim</code> armazenam os limites da faixa de valores que se deseja processar.</p>
<p>Observe que as variáveis necessárias para conter as agregações são inicializadas <em>antes</em> do laço de repetição <code>for</code> utilizado, sendo que <code>soma</code> é inicializada com zero e <code>produto</code> com <code>1</code>, respectivamente os elementos neutro da soma e da multiplicação. A variável <code>contagem</code> recebe cada um dos valores da sequência gerada por <code>range(ini, fim+1)</code>.</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="repet.html#cb32-1" aria-hidden="true" tabindex="-1"></a>ini <span class="op">=</span> <span class="dv">1</span> <span class="co"># definição do início da agregação</span></span>
<span id="cb32-2"><a href="repet.html#cb32-2" aria-hidden="true" tabindex="-1"></a>fim <span class="op">=</span> <span class="dv">10</span> <span class="co"># definição do final da agregação</span></span>
<span id="cb32-3"><a href="repet.html#cb32-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;Agregação for [</span><span class="sc">{</span>ini<span class="sc">}</span><span class="ss">..</span><span class="sc">{</span>fim<span class="sc">}</span><span class="ss">]&#39;</span>)</span>
<span id="cb32-4"><a href="repet.html#cb32-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-5"><a href="repet.html#cb32-5" aria-hidden="true" tabindex="-1"></a>soma <span class="op">=</span> <span class="dv">0</span> <span class="co"># variável para agregação de soma</span></span>
<span id="cb32-6"><a href="repet.html#cb32-6" aria-hidden="true" tabindex="-1"></a>produto <span class="op">=</span> <span class="dv">1</span> <span class="co"># variável para agregação de produto</span></span>
<span id="cb32-7"><a href="repet.html#cb32-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-8"><a href="repet.html#cb32-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> contador <span class="kw">in</span> <span class="bu">range</span>(ini, fim <span class="op">+</span> <span class="dv">1</span>):</span>
<span id="cb32-9"><a href="repet.html#cb32-9" aria-hidden="true" tabindex="-1"></a>    soma <span class="op">+=</span> contador <span class="co"># soma no agregado</span></span>
<span id="cb32-10"><a href="repet.html#cb32-10" aria-hidden="true" tabindex="-1"></a>    produto <span class="op">*=</span> contador <span class="co"># multiplica pelo agregado</span></span>
<span id="cb32-11"><a href="repet.html#cb32-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb32-12"><a href="repet.html#cb32-12" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;Soma = </span><span class="sc">{</span>soma<span class="sc">}</span><span class="ch">\n</span><span class="ss">Produto = </span><span class="sc">{</span>produto<span class="sc">}</span><span class="ss">&#39;</span>)</span></code></pre></div>
<pre><code>&gt;&gt;&gt; Agregação for [1..10]
&gt;&gt;&gt; Soma = 55
&gt;&gt;&gt; Produto = 3628800</code></pre>
<p>Como nos exemplos <code>media.py</code> e <code>media2.py</code>, das seções anteriores, o <em>script</em> <code>media3.py</code> calcula as médias individuais de um conjunto de alunos e também a média geral da classe, que é uma agregação.</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="repet.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Média dos Alunos&#39;</span>)</span>
<span id="cb34-2"><a href="repet.html#cb34-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-3"><a href="repet.html#cb34-3" aria-hidden="true" tabindex="-1"></a><span class="co"># Entrada de dados</span></span>
<span id="cb34-4"><a href="repet.html#cb34-4" aria-hidden="true" tabindex="-1"></a>numero_alunos <span class="op">=</span> <span class="bu">int</span>(<span class="bu">input</span>(<span class="st">&#39;Número de alunos? &#39;</span>))</span>
<span id="cb34-5"><a href="repet.html#cb34-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-6"><a href="repet.html#cb34-6" aria-hidden="true" tabindex="-1"></a><span class="co"># Laço de Repetição</span></span>
<span id="cb34-7"><a href="repet.html#cb34-7" aria-hidden="true" tabindex="-1"></a>soma_medias <span class="op">=</span> <span class="dv">0</span> <span class="co"># variável para agregação (soma)</span></span>
<span id="cb34-8"><a href="repet.html#cb34-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> contador <span class="kw">in</span> <span class="bu">range</span>(numero_alunos):</span>
<span id="cb34-9"><a href="repet.html#cb34-9" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;Aluno #</span><span class="sc">{</span>contador<span class="op">+</span><span class="dv">1</span><span class="sc">}</span><span class="ss">&#39;</span>)</span>
<span id="cb34-10"><a href="repet.html#cb34-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># lê notas</span></span>
<span id="cb34-11"><a href="repet.html#cb34-11" aria-hidden="true" tabindex="-1"></a>    nota_1 <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">&#39;Nota 1? &#39;</span>))</span>
<span id="cb34-12"><a href="repet.html#cb34-12" aria-hidden="true" tabindex="-1"></a>    nota_2 <span class="op">=</span> <span class="bu">float</span>(<span class="bu">input</span>(<span class="st">&#39;Nota 2? &#39;</span>))</span>
<span id="cb34-13"><a href="repet.html#cb34-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calcula média individual</span></span>
<span id="cb34-14"><a href="repet.html#cb34-14" aria-hidden="true" tabindex="-1"></a>    media <span class="op">=</span> (nota_1 <span class="op">+</span> nota_2) <span class="op">/</span> <span class="dv">2</span></span>
<span id="cb34-15"><a href="repet.html#cb34-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># agrega média individual a soma das médias</span></span>
<span id="cb34-16"><a href="repet.html#cb34-16" aria-hidden="true" tabindex="-1"></a>    soma_medias <span class="op">+=</span> media</span>
<span id="cb34-17"><a href="repet.html#cb34-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># exibe média individual</span></span>
<span id="cb34-18"><a href="repet.html#cb34-18" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(<span class="ss">f&#39;Nota 1:</span><span class="sc">{</span>nota_1<span class="sc">:.1f}</span><span class="ss">  Nota 2:</span><span class="sc">{</span>nota_2<span class="sc">:.1f}</span><span class="ss">  &#39;</span> \</span>
<span id="cb34-19"><a href="repet.html#cb34-19" aria-hidden="true" tabindex="-1"></a>        <span class="ss">f&#39;Média:</span><span class="sc">{</span>media<span class="sc">:.2f}</span><span class="ch">\n</span><span class="ss">&#39;</span>)</span>
<span id="cb34-20"><a href="repet.html#cb34-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-21"><a href="repet.html#cb34-21" aria-hidden="true" tabindex="-1"></a><span class="co"># calcula e exibe média geral</span></span>
<span id="cb34-22"><a href="repet.html#cb34-22" aria-hidden="true" tabindex="-1"></a>media_geral <span class="op">=</span> soma_medias <span class="op">/</span> numero_alunos</span>
<span id="cb34-23"><a href="repet.html#cb34-23" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="ss">f&#39;Média geral:</span><span class="sc">{</span>media_geral<span class="sc">:.2f}</span><span class="ch">\n</span><span class="ss">&#39;</span>)</span>
<span id="cb34-24"><a href="repet.html#cb34-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-25"><a href="repet.html#cb34-25" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">&#39;Fim&#39;</span>)</span></code></pre></div>
<p>A Figura <a href="repet.html#fig:05-07">5.7</a> exibe os resultados do programa <code>media3.py</code>, que são idênticos aos produzidos pelo programa <code>media2.py</code> quando usados os mesmos dados de entrada.</p>
<div class="figure"><span id="fig:05-07"></span>
<img src="images/05-07.jpg" alt="Execução de `media3.py`"  />
<p class="caption">
Figura 5.7: Execução de <code>media3.py</code>
</p>
</div>
<p>Todas as modificações introduzidas com o uso do <code>for</code> se relacionam à variável de controle <code>contador</code>. Esta variável passa a ser declarada apenas no diretiva <code>for</code>, como sua variável de controle. A contagem dos alunos é gerada por <code>range(numero_alunos)</code>, que produz uma sequência de <code>0</code> até <code>numero_alunos-1</code>, que tem o número correto de valores, mas exige que na exibição da mensagem utilizemos a expressão <code>contador+1</code> para exibir a sequência de <code>1</code> até <code>numero_alunos</code>, mais amigável para o usuário. Com o uso da repetição automática, não é necessário o incremento explícito da variável de controle <code>contador</code>. Nenhuma outra alteração é necessária, o que mostra que o uso do <code>for</code> simplifica o código.</p>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="1">
<li id="fn1"><p><em>Indentação</em> é o termo que se refere ao espaço de abertura de de um parágrafo, ou seja, entre a margem e o começo da da escrita. A indentação proporciona maior legibilidade ao código, pois indica a estrutura de associação dos comandos em um programa de computador.<a href="repet.html#fnref1" class="footnote-back">↩︎</a></p></li>
<li id="fn2"><p>Na computação utiliza-se o termo <em>iteração</em> para designar uma execução dos comandos ou instruções associadas à um laço de repetição. Assim, um laço de repetição produz várias <em>iterações</em> ou <em>repetições</em>.<a href="repet.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="seque.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="decis.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/05-repeticao.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["pygp.pdf", "pygp.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
